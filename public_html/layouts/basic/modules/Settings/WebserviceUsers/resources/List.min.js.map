{"version":3,"file":"List.min.js","sources":["List.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nSettings_Vtiger_List_Js(\n\t'Settings_WebserviceUsers_List_Js',\n\t{},\n\t{\n\t\tgetDeleteParams: function() {\n\t\t\treturn {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'DeleteAjax',\n\t\t\t\ttypeApi: Vtiger_List_Js.getInstance().getActiveTypeApi()\n\t\t\t};\n\t\t},\n\t\tcontainer: false,\n\t\tgetContainer: function() {\n\t\t\tif (this.container == false) {\n\t\t\t\tthis.container = jQuery('div.contentsDiv');\n\t\t\t}\n\t\t\treturn this.container;\n\t\t},\n\t\tgetActiveTypeApi: function() {\n\t\t\treturn this.getContainer()\n\t\t\t\t.find('.tabApi .active')\n\t\t\t\t.closest('.tabApi')\n\t\t\t\t.data('typeapi');\n\t\t},\n\t\tgetListViewRecords: function(urlParams) {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tif (typeof urlParams === 'undefined') {\n\t\t\t\turlParams = {};\n\t\t\t}\n\t\t\tthis.reloadTab(urlParams)\n\t\t\t\t.done(function(data) {\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function(textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tupdatePagination: function(pageNumber) {\n\t\t\tpageNumber = typeof pageNumber !== 'undefined' ? pageNumber : 1;\n\t\t\tvar thisInstance = this;\n\t\t\tvar params = this.getDefaultParams();\n\t\t\tparams.view = 'Pagination';\n\t\t\tparams.page = pageNumber;\n\t\t\tparams.mode = 'getPagination';\n\t\t\tparams.totalCount = $('.pagination').data('totalCount');\n\t\t\tparams.noOfEntries = jQuery('#noOfEntries').val();\n\t\t\tAppConnector.request(params).done(function(data) {\n\t\t\t\tjQuery('.paginationDiv').html(data);\n\t\t\t\tthisInstance.registerPageNavigationEvents();\n\t\t\t});\n\t\t},\n\t\tgetDefaultParams: function() {\n\t\t\tvar params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\tpage: jQuery('#pageNumber').val(),\n\t\t\t\tview: 'List',\n\t\t\t\torderby: jQuery('#orderBy').val(),\n\t\t\t\tsortorder: jQuery('#sortOrder').val(),\n\t\t\t\ttypeApi: this.getActiveTypeApi()\n\t\t\t};\n\t\t\treturn params;\n\t\t},\n\t\treloadTab: function(urlParams) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tif (urlParams == undefined) {\n\t\t\t\turlParams = {};\n\t\t\t}\n\t\t\tvar tabContainer = this.getContainer().find('.listViewContent');\n\t\t\tvar defaultParams = this.getDefaultParams();\n\t\t\tvar params = jQuery.extend(defaultParams, urlParams);\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function(data) {\n\t\t\t\t\ttabContainer.html(data);\n\t\t\t\t\tVtiger_Header_Js.getInstance().registerFooTable();\n\t\t\t\t\tthisInstance.registerPageNavigationEvents();\n\t\t\t\t\tApp.Fields.Text.registerCopyClipboard(tabContainer);\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function(textStatus, errorThrown) {\n\t\t\t\t\tapp.errorLog(textStatus, errorThrown);\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tregisterEvents: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tthis._super();\n\t\t\tthis.getContainer()\n\t\t\t\t.find('li.tabApi')\n\t\t\t\t.on('click', function(e) {\n\t\t\t\t\tthisInstance.reloadTab({ typeApi: jQuery(this).data('typeapi') });\n\t\t\t\t});\n\t\t\tApp.Fields.Text.registerCopyClipboard(this.getContainer().find('.listViewContent'));\n\t\t}\n\t}\n);\n"],"names":["Settings_Vtiger_List_Js","getDeleteParams","module","app","getModuleName","parent","getParentModuleName","action","typeApi","Vtiger_List_Js","getInstance","getActiveTypeApi","container","getContainer","jQuery","find","closest","data","getListViewRecords","urlParams","Deferred","reloadTab","done","aDeferred","resolve","fail","textStatus","errorThrown","reject","promise","updatePagination","pageNumber","params","getDefaultParams","view","page","mode","totalCount","$","noOfEntries","val","AppConnector","request","html","thisInstance","registerPageNavigationEvents","orderby","sortorder","defaultParams","extend","tabContainer","Vtiger_Header_Js","registerFooTable","App","Fields","Text","registerCopyClipboard","errorLog","registerEvents","_super","on"],"mappings":"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"}