{"version":3,"file":"Index.min.js","sources":["Index.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\n\t'Settings_Inventory_Index_Js',\n\t{},\n\t{\n\t\t//Stored history of Name and duplicate check result\n\t\tduplicateCheckCache: {},\n\t\t/**\n\t\t * This function will show the model for Add/Edit\n\t\t */\n\t\tedit: function(url, currentTrElement) {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tvar thisInstance = this;\n\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tAppConnector.request(url)\n\t\t\t\t.done(function(data) {\n\t\t\t\t\tvar callBackFunction = function(data) {\n\t\t\t\t\t\t//cache should be empty when modal opened\n\t\t\t\t\t\tthisInstance.duplicateCheckCache = {};\n\t\t\t\t\t\tvar form = jQuery('#formInventory');\n\t\t\t\t\t\tvar params = app.validationEngineOptions;\n\t\t\t\t\t\tparams.onValidationComplete = function(form, valid) {\n\t\t\t\t\t\t\tif (valid) {\n\t\t\t\t\t\t\t\tthisInstance.saveDetails(form, currentTrElement);\n\t\t\t\t\t\t\t\treturn valid;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tform.validationEngine(params);\n\t\t\t\t\t\tform.on('submit', function(e) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tapp.showModalWindow(\n\t\t\t\t\t\tdata,\n\t\t\t\t\t\tfunction(data) {\n\t\t\t\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{}\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t\t.fail(function(error) {\n\t\t\t\t\taDeferred.reject(error);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/*\n\t\t * Function to Save the Details\n\t\t */\n\t\tsaveDetails: function(form, currentTrElement) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet params = form.serializeFormData();\n\t\t\tconst saveButton = form.find('[type=\"submit\"]');\n\t\t\tsaveButton.prop('disabled', true);\n\t\t\tif (typeof params === 'undefined') {\n\t\t\t\tparams = {};\n\t\t\t}\n\t\t\tthisInstance\n\t\t\t\t.validateName(params)\n\t\t\t\t.done(data => {\n\t\t\t\t\tif (typeof data === 'undefined') {\n\t\t\t\t\t\tsaveButton.prop('disabled', false);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tconst progressIndicatorElement = $.progressIndicator({\n\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tparams.module = app.getModuleName();\n\t\t\t\t\tparams.parent = app.getParentModuleName();\n\t\t\t\t\tparams.action = 'SaveAjax';\n\t\t\t\t\tparams.view = app.getViewName();\n\t\t\t\t\tAppConnector.request(params).done(data => {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\tif (typeof data == 'string') {\n\t\t\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdata['result']['value'] = App.Fields.Double.formatToDisplay(data['result']['value']);\n\t\t\t\t\t\t//Adding or update details in the list\n\t\t\t\t\t\tif (form.find('.addView').val() == 'true') {\n\t\t\t\t\t\t\tthisInstance.addDetails(data['result']);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthisInstance.updateDetails(data['result'], currentTrElement);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//show notification after details saved\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_SAVE_CHANGES')\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.fail((data, err) => {\n\t\t\t\t\tsaveButton.prop('disabled', false);\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to add the Details in the list after saving\n\t\t */\n\t\taddDetails: function(details) {\n\t\t\tlet container = jQuery('#inventory'),\n\t\t\t\tcurrency = jQuery('#currency'),\n\t\t\t\tsymbol = '%',\n\t\t\t\ttable = $('.inventoryTable', container);\n\t\t\tif (currency.length > 0) {\n\t\t\t\tcurrency = JSON.parse(currency.val());\n\t\t\t\tsymbol = currency.currency_symbol;\n\t\t\t}\n\t\t\tif (details.default === 1) {\n\t\t\t\ttable.find('.default').prop('checked', false);\n\t\t\t}\n\t\t\tlet trElement = $(`<tr class=\"opacity\" data-id=\"${details.id}\">\n\t\t\t\t\t<td class=\"textAlignCenter ${details.row_type}\"><label class=\"name\">${details.name}</label></td>\n\t\t\t\t\t<td class=\"textAlignCenter ${details.row_type}\"><span class=\"value\">${details.value} ${symbol}</span></td>\n\t\t\t\t\t<td class=\"textAlignCenter ${details.row_type}\">\n\t\t\t\t\t<div class=\"float-right  w-50 d-flex justify-content-between mr-2\">\n\t\t\t\t\t\t<input class=\"status js-update-field mt-2\" checked type=\"checkbox\">\n\t\t\t\t\t\t<div class=\"actions\">\n\t\t\t\t\t\t\t<button class=\"btn btn-info btn-sm text-white editInventory u-cursor-pointer\" data-url=\"${details._editurl}\">\n\t\t\t\t\t\t\t<span title=\"Edycja\" class=\"yfi yfi-full-editing-view alignBottom\"></span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button class=\"removeInventory u-cursor-pointer btn btn-danger btn-sm text-white\" data-url=\"${details._editurl}\">\n\t\t\t\t\t\t\t<span title=\"UsuÅ„\" class=\"fas fa-trash-alt alignBottom\"></span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t</td>\n\t\t\t\t\t</tr>`);\n\t\t\ttable.append(trElement);\n\t\t},\n\t\t/*\n\t\t * Function to update the details in the list after edit\n\t\t */\n\t\tupdateDetails: function(data, currentTrElement) {\n\t\t\tvar currency = jQuery('#currency');\n\t\t\tvar symbol = '%';\n\t\t\tif (currency.length > 0) {\n\t\t\t\tcurrency = JSON.parse(currency.val());\n\t\t\t\tsymbol = currency.currency_symbol;\n\t\t\t}\n\t\t\tcurrentTrElement.find('.name').text(data['name']);\n\t\t\tcurrentTrElement.find('.value').text(data['value'] + ' ' + symbol);\n\t\t\tif (data['status'] === 0) {\n\t\t\t\tcurrentTrElement.find('.status').prop('checked', true);\n\t\t\t} else {\n\t\t\t\tcurrentTrElement.find('.status').prop('checked', false);\n\t\t\t}\n\t\t\tif (data['default'] === 1) {\n\t\t\t\tlet table = $('.inventoryTable');\n\t\t\t\ttable.find('.default').prop('checked', false);\n\t\t\t\tcurrentTrElement.find('.default').prop('checked', true);\n\t\t\t} else {\n\t\t\t\tcurrentTrElement.find('.default').prop('checked', false);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * Function to validate the Name to avoid duplicates\n\t\t */\n\t\tvalidateName: function(data) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar aDeferred = jQuery.Deferred();\n\n\t\t\tvar name = data.name;\n\t\t\tvar form = jQuery('#formInventory');\n\t\t\tvar nameElement = form.find('[name=\"name\"]');\n\t\t\tif (!(name in thisInstance.duplicateCheckCache)) {\n\t\t\t\tthisInstance\n\t\t\t\t\t.checkDuplicateName(data)\n\t\t\t\t\t.done(function(data) {\n\t\t\t\t\t\tthisInstance.duplicateCheckCache[name] = data['success'];\n\t\t\t\t\t\tif (data['success']) {\n\t\t\t\t\t\t\tthisInstance.duplicateCheckCache['message'] = data['message'];\n\t\t\t\t\t\t\tnameElement.validationEngine('showPrompt', data['message'], 'error', 'bottomLeft', true);\n\t\t\t\t\t\t\taDeferred.reject(data);\n\t\t\t\t\t\t}\n\t\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function(data, err) {\n\t\t\t\t\t\taDeferred.reject(data);\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tif (thisInstance.duplicateCheckCache[name] == true) {\n\t\t\t\t\tvar result = thisInstance.duplicateCheckCache['message'];\n\t\t\t\t\tnameElement.validationEngine('showPrompt', result, 'error', 'bottomLeft', true);\n\t\t\t\t\taDeferred.reject();\n\t\t\t\t} else {\n\t\t\t\t\taDeferred.resolve();\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/*\n\t\t * Function to check Duplication of inventory Name\n\t\t */\n\t\tcheckDuplicateName: function(details) {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tvar name = details.name;\n\t\t\tvar id = details.id;\n\t\t\tvar moduleName = app.getModuleName();\n\t\t\tvar params = {\n\t\t\t\tmodule: moduleName,\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'SaveAjax',\n\t\t\t\tmode: 'checkDuplicateName',\n\t\t\t\tname: name,\n\t\t\t\tid: id,\n\t\t\t\tview: app.getViewName()\n\t\t\t};\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function(data) {\n\t\t\t\t\tif (typeof data == 'string') {\n\t\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\t\t}\n\t\t\t\t\tvar response = data['result'];\n\t\t\t\t\taDeferred.resolve(response);\n\t\t\t\t})\n\t\t\t\t.fail(function(error, err) {\n\t\t\t\t\taDeferred.reject(error, err);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/*\n\t\t * Function to update status as enabled or disabled\n\t\t */\n\t\tupdateCheckbox: function(currentTarget) {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\n\t\t\tvar currentTrElement = currentTarget.closest('tr');\n\t\t\tvar id = currentTrElement.data('id');\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar updatedCheckbox = currentTarget.data('field-name');\n\n\t\t\tvar params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'SaveAjax',\n\t\t\t\tid: id,\n\t\t\t\tview: app.getViewName()\n\t\t\t};\n\n\t\t\tif (updatedCheckbox === 'status') {\n\t\t\t\tparams.status = currentTarget.is(':checked') ? 0 : 1;\n\t\t\t} else if (updatedCheckbox === 'default') {\n\t\t\t\tparams.default = currentTarget.is(':checked') ? 1 : 0;\n\t\t\t\tlet table = $('.inventoryTable');\n\t\t\t\tif (params.default === 1) {\n\t\t\t\t\ttable\n\t\t\t\t\t\t.find('.default')\n\t\t\t\t\t\t.not(currentTarget)\n\t\t\t\t\t\t.prop('checked', false);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function(data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function(error, err) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.reject(error);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tremoveInventory: function(inventoryElement) {\n\t\t\tvar message = app.vtranslate('JS_DELETE_INVENTORY_CONFIRMATION');\n\t\t\tVtiger_Helper_Js.showConfirmationBox({ message: message }).done(function(e) {\n\t\t\t\tvar params = {};\n\t\t\t\tparams['view'] = app.getViewName();\n\t\t\t\tparams['id'] = inventoryElement.data('id');\n\t\t\t\tapp.saveAjax('deleteInventory', params).done(function(data) {\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({ type: 'success', text: data.result.message });\n\t\t\t\t\tinventoryElement.remove();\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to register all actions in the List\n\t\t */\n\t\tregisterActions: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar container = jQuery('#inventory');\n\t\t\t//register click event for Add New Inventory button\n\t\t\tcontainer.find('.addInventory').on('click', function(e) {\n\t\t\t\tvar addInventoryButton = jQuery(e.currentTarget);\n\t\t\t\tvar createUrl = addInventoryButton.data('url');\n\t\t\t\tthisInstance.edit(createUrl);\n\t\t\t});\n\n\t\t\t//register event for edit icon\n\t\t\tcontainer.on('click', '.editInventory', function(e) {\n\t\t\t\tvar editButton = jQuery(e.currentTarget);\n\t\t\t\tvar currentTrElement = editButton.closest('tr');\n\t\t\t\tthisInstance.edit(editButton.data('url'), currentTrElement);\n\t\t\t});\n\n\t\t\t//register event for edit icon\n\t\t\tcontainer.on('click', '.removeInventory', function(e) {\n\t\t\t\tvar removeInventoryButton = jQuery(e.currentTarget);\n\t\t\t\tvar currentTrElement = removeInventoryButton.closest('tr');\n\t\t\t\tthisInstance.removeInventory(currentTrElement);\n\t\t\t});\n\n\t\t\t//register event for checkbox to change the Status\n\t\t\tcontainer.on('click', '[type=\"checkbox\"]', function(e) {\n\t\t\t\tvar currentTarget = jQuery(e.currentTarget);\n\n\t\t\t\tthisInstance.updateCheckbox(currentTarget).done(function(data) {\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tparams.text = app.vtranslate('JS_SAVE_CHANGES');\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterEvents: function() {\n\t\t\tthis.registerActions();\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","duplicateCheckCache","edit","url","currentTrElement","Deferred","thisInstance","progressIndicatorElement","progressIndicator","position","blockInfo","enabled","request","done","data","params","app","validationEngineOptions","onValidationComplete","form","valid","saveDetails","validationEngine","on","e","preventDefault","mode","showModalWindow","callBackFunction","fail","error","aDeferred","reject","promise","serializeFormData","saveButton","find","prop","validateName","$","module","getModuleName","parent","getParentModuleName","action","view","getViewName","AppConnector","hideModalWindow","JSON","parse","App","Fields","Double","formatToDisplay","val","addDetails","updateDetails","Settings_Vtiger_Index_Js","showMessage","text","vtranslate","details","currency","symbol","table","container","length","currency_symbol","default","id","row_type","name","value","_editurl","append","trElement","nameElement","checkDuplicateName","resolve","result","moduleName","response","err","updateCheckbox","currentTarget","closest","updatedCheckbox","status","is","not","removeInventory","inventoryElement","Vtiger_Helper_Js","showConfirmationBox","message","saveAjax","type","remove","registerActions","createUrl","addInventoryButton","editButton","removeInventoryButton","registerEvents"],"mappings":"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"}