{"version":3,"file":"Edit.min.js","sources":["Edit.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nSettings_Vtiger_Edit_Js(\n\t'Settings_PDF_Edit_Js',\n\t{\n\t\tinstance: {}\n\t},\n\t{\n\t\tcurrentInstance: false,\n\t\teditContainer: false,\n\t\tinit: function() {\n\t\t\tthis.initiate();\n\t\t},\n\t\t/**\n\t\t * Function to get the container which holds all the workflow elements\n\t\t * @return jQuery object\n\t\t */\n\t\tgetContainer: function() {\n\t\t\treturn this.editContainer;\n\t\t},\n\t\t/**\n\t\t * Function to set the reports container\n\t\t * @params : element - which represents the workflow container\n\t\t * @return : current instance\n\t\t */\n\t\tsetContainer: function(element) {\n\t\t\tthis.editContainer = element;\n\t\t\treturn this;\n\t\t},\n\t\t/*\n\t\t * Function to return the instance based on the step of the Workflow\n\t\t */\n\t\tgetInstance: function(step) {\n\t\t\tif (step in Settings_PDF_Edit_Js.instance) {\n\t\t\t\treturn Settings_PDF_Edit_Js.instance[step];\n\t\t\t} else {\n\t\t\t\tvar moduleClassName = 'Settings_PDF_Edit' + step + '_Js';\n\t\t\t\tSettings_PDF_Edit_Js.instance[step] = new window[moduleClassName]();\n\t\t\t\treturn Settings_PDF_Edit_Js.instance[step];\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * Function to get the value of the step\n\t\t * returns 1 or 2 or 3\n\t\t */\n\t\tgetStepValue: function() {\n\t\t\tvar container = this.currentInstance.getContainer();\n\t\t\treturn jQuery('.step', container).val();\n\t\t},\n\t\t/*\n\t\t * Function to initiate the step 1 instance\n\t\t */\n\t\tinitiate: function(container) {\n\t\t\tif (typeof container === 'undefined') {\n\t\t\t\tcontainer = jQuery('.pdfTemplateContents');\n\t\t\t}\n\t\t\tif (container.is('.pdfTemplateContents')) {\n\t\t\t\tthis.setContainer(container);\n\t\t\t} else {\n\t\t\t\tthis.setContainer(jQuery('.pdfTemplateContents', container));\n\t\t\t}\n\t\t\tthis.initiateStep('1');\n\t\t\tthis.currentInstance.registerEvents();\n\t\t},\n\t\t/*\n\t\t * Function to initiate all the operations for a step\n\t\t * @params step value\n\t\t */\n\t\tinitiateStep: function(stepVal) {\n\t\t\tvar step = 'step' + stepVal;\n\t\t\tthis.activateHeader(step);\n\t\t\tthis.currentInstance = this.getInstance(stepVal);\n\t\t},\n\t\t/*\n\t\t * Function to activate the header based on the class\n\t\t * @params class name\n\t\t */\n\t\tactivateHeader: function(step) {\n\t\t\tvar headersContainer = jQuery('.crumbs ');\n\t\t\theadersContainer.find('.active').removeClass('active');\n\t\t\tjQuery('#' + step, headersContainer).addClass('active');\n\t\t},\n\t\t/*\n\t\t * Function to register the click event for next button\n\t\t */\n\t\tregisterFormSubmitEvent: function(form) {\n\t\t\tvar thisInstance = this;\n\t\t\tif (jQuery.isFunction(thisInstance.currentInstance.submit)) {\n\t\t\t\tform.on('submit', function(e) {\n\t\t\t\t\tvar form = jQuery(e.currentTarget);\n\t\t\t\t\tvar specialValidation = true;\n\t\t\t\t\tif (jQuery.isFunction(thisInstance.currentInstance.isFormValidate)) {\n\t\t\t\t\t\tspecialValidation = thisInstance.currentInstance.isFormValidate();\n\t\t\t\t\t}\n\t\t\t\t\tif (form.validationEngine('validate') && specialValidation) {\n\t\t\t\t\t\tthisInstance.currentInstance.submit().done(function(data) {\n\t\t\t\t\t\t\tthisInstance.getContainer().prepend(data);\n\t\t\t\t\t\t\tvar stepVal = thisInstance.getStepValue();\n\t\t\t\t\t\t\tvar nextStepVal = parseInt(stepVal) + 1;\n\t\t\t\t\t\t\tthisInstance.initiateStep(nextStepVal);\n\t\t\t\t\t\t\tthisInstance.currentInstance.initialize();\n\t\t\t\t\t\t\tvar container = thisInstance.currentInstance.getContainer();\n\t\t\t\t\t\t\tthisInstance.registerFormSubmitEvent(container);\n\t\t\t\t\t\t\tthisInstance.currentInstance.registerEvents();\n\t\t\t\t\t\t\tthisInstance.registerEditors(container);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tback: function() {\n\t\t\tvar step = this.getStepValue();\n\t\t\tvar prevStep = parseInt(step) - 1;\n\t\t\tthis.currentInstance.initialize();\n\t\t\tvar container = this.currentInstance.getContainer();\n\t\t\tvar pdfRecordElement = jQuery('[name=\"record\"]', container);\n\t\t\tvar pdfId = pdfRecordElement.val();\n\t\t\tcontainer.remove();\n\t\t\tthis.initiateStep(prevStep);\n\t\t\tvar currentContainer = this.currentInstance.getContainer();\n\t\t\tcurrentContainer.show();\n\t\t\tjQuery('[name=\"record\"]', currentContainer).val(pdfId);\n\t\t},\n\t\tregisterCancelStepClickEvent: function(form) {\n\t\t\tjQuery('button.cancelLink', form).on('click', function() {\n\t\t\t\twindow.history.back();\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to register the click event for back step\n\t\t */\n\t\tregisterBackStepClickEvent: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar container = this.getContainer();\n\t\t\tcontainer.on('click', '.backStep', function(e) {\n\t\t\t\tthisInstance.back();\n\t\t\t});\n\t\t},\n\t\tregisterMetatagsClickEvent: function(form) {\n\t\t\tvar metaTagsStatus = form.find('#metatags_status');\n\t\t\tif (!metaTagsStatus.is(':checked')) {\n\t\t\t\tform.find('.metatags').addClass('d-none');\n\t\t\t} else {\n\t\t\t\tform.find('.metatags').removeClass('d-none');\n\t\t\t}\n\n\t\t\tmetaTagsStatus.on('change', function() {\n\t\t\t\tconst status = $(this).is(':checked');\n\t\t\t\tif (!status) {\n\t\t\t\t\t$('.metatags', form).addClass('d-none');\n\t\t\t\t} else {\n\t\t\t\t\t$('#set_subject', form).val($('#secondary_name', form).val());\n\t\t\t\t\t$('#set_title', form).val($('#primary_name', form).val());\n\t\t\t\t\t$('.metatags', form).removeClass('d-none');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register wysiwyg editors\n\t\t * @param {jQuery} container\n\t\t * @param {array} fonts\n\t\t */\n\t\tregisterEditors(container, fonts = ['DejaVu Sans']) {\n\t\t\tcontainer.find('.js-editor').each(function() {\n\t\t\t\tconst editor = $(this);\n\t\t\t\tif (typeof CONFIG.fonts !== 'undefined' && fonts.length === 1) {\n\t\t\t\t\tfonts = CONFIG.fonts.map(font => font);\n\t\t\t\t\tfonts.unshift('DejaVu Sans');\n\t\t\t\t}\n\t\t\t\tnew App.Fields.Text.Editor(editor, {\n\t\t\t\t\tentities_latin: false,\n\t\t\t\t\ttoolbar: 'PDF',\n\t\t\t\t\tfont_defaultLabel: 'DejaVu Sans',\n\t\t\t\t\tfontSize_defaultLabel: '10px',\n\t\t\t\t\tfont_names: fonts.join(';'),\n\t\t\t\t\tcontentsCss: CONFIG.siteUrl + 'layouts/resources/fonts/fonts.css',\n\t\t\t\t\theight: editor.attr('id') === 'body_content' ? '800px' : '80px',\n\t\t\t\t\tstylesSet: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'Komorka 14',\n\t\t\t\t\t\t\telement: 'td',\n\t\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\t\tstyle: 'font-size:14px'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\ttoolbar_PDF: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'clipboard',\n\t\t\t\t\t\t\titems: ['Cut', 'Copy', 'Paste', 'PasteText', 'PasteFromWord', '-', 'Undo', 'Redo']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'editing', items: ['Find', 'Replace', '-', 'SelectAll', '-', 'Scayt'] },\n\t\t\t\t\t\t{ name: 'links', items: ['Link', 'Unlink'] },\n\t\t\t\t\t\t{ name: 'insert', items: ['ckeditor-image-to-base', 'Table', 'HorizontalRule', 'PageBreak'] },\n\t\t\t\t\t\t{ name: 'tools', items: ['Maximize', 'ShowBlocks'] },\n\t\t\t\t\t\t{ name: 'document', items: ['Source'] },\n\t\t\t\t\t\t'/',\n\t\t\t\t\t\t{ name: 'styles', items: ['Styles', 'Format', 'Font', 'FontSize'] },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'basicstyles',\n\t\t\t\t\t\t\titems: ['Bold', 'Italic', 'Underline', 'Strike']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'colors', items: ['TextColor', 'BGColor'] },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'paragraph',\n\t\t\t\t\t\t\titems: ['JustifyLeft', 'JustifyCenter', 'JustifyRight']\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ name: 'basicstyles', items: ['CopyFormatting', 'RemoveFormat'] }\n\t\t\t\t\t],\n\t\t\t\t\tallowedContent: {\n\t\t\t\t\t\t$1: {\n\t\t\t\t\t\t\telements: CKEDITOR.dtd,\n\t\t\t\t\t\t\tattributes: true,\n\t\t\t\t\t\t\tclasses: true,\n\t\t\t\t\t\t\tstyles: {\n\t\t\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\t\t\tcolor: true,\n\t\t\t\t\t\t\t\t'background-color': true,\n\t\t\t\t\t\t\t\t'background-image': true,\n\t\t\t\t\t\t\t\t'font-size': true,\n\t\t\t\t\t\t\t\t'font-weight': true,\n\t\t\t\t\t\t\t\t'font-family': true,\n\t\t\t\t\t\t\t\t'text-align': true,\n\t\t\t\t\t\t\t\t'text-transform': true,\n\t\t\t\t\t\t\t\twidth: true,\n\t\t\t\t\t\t\t\theight: true,\n\t\t\t\t\t\t\t\tborder: true,\n\t\t\t\t\t\t\t\t'border-collapse': true,\n\t\t\t\t\t\t\t\t'cell-spacing': true,\n\t\t\t\t\t\t\t\t'vertical-align': true,\n\t\t\t\t\t\t\t\t'margin-top': true,\n\t\t\t\t\t\t\t\t'margin-bottom': true,\n\t\t\t\t\t\t\t\t'margin-left': true,\n\t\t\t\t\t\t\t\t'margin-right': true,\n\t\t\t\t\t\t\t\t'padding-top': true,\n\t\t\t\t\t\t\t\t'padding-bottom': true,\n\t\t\t\t\t\t\t\t'padding-left': true,\n\t\t\t\t\t\t\t\t'padding-right': true,\n\t\t\t\t\t\t\t\tmargin: true,\n\t\t\t\t\t\t\t\tpadding: true,\n\t\t\t\t\t\t\t\t'border-color': true,\n\t\t\t\t\t\t\t\t'border-width': true,\n\t\t\t\t\t\t\t\t'border-style': true,\n\t\t\t\t\t\t\t\t'border-top-color': true,\n\t\t\t\t\t\t\t\t'border-top-width': true,\n\t\t\t\t\t\t\t\t'border-top-style': true,\n\t\t\t\t\t\t\t\t'border-right-color': true,\n\t\t\t\t\t\t\t\t'border-right-width': true,\n\t\t\t\t\t\t\t\t'border-right-style': true,\n\t\t\t\t\t\t\t\t'border-bottom-color': true,\n\t\t\t\t\t\t\t\t'border-bottom-width': true,\n\t\t\t\t\t\t\t\t'border-bottom-style': true,\n\t\t\t\t\t\t\t\t'border-left-color': true,\n\t\t\t\t\t\t\t\t'border-left-width': true,\n\t\t\t\t\t\t\t\t'border-left-style': true,\n\t\t\t\t\t\t\t\t'line-height': true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register wysiwyg editors with fonts\n\t\t * @param form\n\t\t */\n\t\tregisterEditorsWithFonts(form) {\n\t\t\t$.ajax({\n\t\t\t\turl: CONFIG.siteUrl + 'layouts/resources/fonts/fonts.json',\n\t\t\t\tmethod: 'GET',\n\t\t\t\tdataType: 'json'\n\t\t\t})\n\t\t\t\t.done(response => {\n\t\t\t\t\tif (response.length === 0) {\n\t\t\t\t\t\treturn this.registerEditors(form);\n\t\t\t\t\t}\n\t\t\t\t\tconst fonts = response\n\t\t\t\t\t\t.map(font => font.family)\n\t\t\t\t\t\t.filter((val, index, self) => self.indexOf(val) === index);\n\t\t\t\t\tCONFIG.fonts = fonts;\n\t\t\t\t\tthis.registerEditors(form, fonts);\n\t\t\t\t})\n\t\t\t\t.fail(() => {\n\t\t\t\t\tthis.registerEditors(form);\n\t\t\t\t\tapp.errorLog('Could not load fonts.');\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register events\n\t\t */\n\t\tregisterEvents() {\n\t\t\tconst form = this.currentInstance.getContainer();\n\t\t\tthis.registerFormSubmitEvent(form);\n\t\t\tthis.registerBackStepClickEvent();\n\t\t\tthis.registerCancelStepClickEvent(form);\n\t\t\tthis.registerMetatagsClickEvent(form);\n\t\t\tthis.registerEditorsWithFonts(form);\n\t\t}\n\t}\n);\n"],"names":["Settings_Vtiger_Edit_Js","instance","currentInstance","editContainer","init","initiate","getContainer","setContainer","element","getInstance","step","Settings_PDF_Edit_Js","getStepValue","container","val","jQuery","is","initiateStep","registerEvents","stepVal","activateHeader","headersContainer","find","removeClass","addClass","registerFormSubmitEvent","form","isFunction","thisInstance","submit","on","e","currentTarget","specialValidation","isFormValidate","validationEngine","done","data","prepend","nextStepVal","parseInt","initialize","registerEditors","preventDefault","back","prevStep","pdfRecordElement","pdfId","remove","currentContainer","show","registerCancelStepClickEvent","window","history","registerBackStepClickEvent","registerMetatagsClickEvent","metaTagsStatus","$","status","each","fonts","length","CONFIG","map","unshift","Fields","Text","Editor","editor","entities_latin","toolbar","font_defaultLabel","fontSize_defaultLabel","font_names","join","contentsCss","siteUrl","height","attr","stylesSet","name","attributes","style","toolbar_PDF","items","allowedContent","$1","elements","CKEDITOR","dtd","classes","styles","display","color","width","border","margin","padding","registerEditorsWithFonts","ajax","url","method","dataType","response","family","filter","index","self","indexOf","fail","app","errorLog"],"mappings":"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"}