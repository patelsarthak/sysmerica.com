{"version":3,"file":"Tax.min.js","sources":["Tax.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n *************************************************************************************/\n'use strict';\n\njQuery.Class(\n\t'Settings_Vtiger_Tax_Js',\n\t{},\n\t{\n\t\t//Stored history of TaxName and duplicate check result\n\t\tduplicateCheckCache: {},\n\n\t\t/**\n\t\t * This function will show the model for Add/Edit tax\n\t\t */\n\t\teditTax: function(url, currentTrElement) {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tvar thisInstance = this;\n\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tAppConnector.request(url)\n\t\t\t\t.done(function(data) {\n\t\t\t\t\tvar callBackFunction = function(data) {\n\t\t\t\t\t\t//cache should be empty when modal opened\n\t\t\t\t\t\tthisInstance.duplicateCheckCache = {};\n\t\t\t\t\t\tvar form = jQuery('#editTax');\n\n\t\t\t\t\t\tvar params = app.validationEngineOptions;\n\t\t\t\t\t\tparams.onValidationComplete = function(form, valid) {\n\t\t\t\t\t\t\tif (valid) {\n\t\t\t\t\t\t\t\tthisInstance.saveTaxDetails(form, currentTrElement);\n\t\t\t\t\t\t\t\treturn valid;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tform.validationEngine(params);\n\n\t\t\t\t\t\tform.on('submit', function(e) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tapp.showModalWindow(\n\t\t\t\t\t\tdata,\n\t\t\t\t\t\tfunction(data) {\n\t\t\t\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ width: '500px' }\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t\t.fail(function(error) {\n\t\t\t\t\taDeferred.reject(error);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\n\t\t/*\n\t\t * Function to Save the Tax Details\n\t\t */\n\t\tsaveTaxDetails: function(form, currentTrElement) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar params = form.serializeFormData();\n\n\t\t\tif (typeof params === 'undefined') {\n\t\t\t\tparams = {};\n\t\t\t}\n\t\t\tthisInstance.validateTaxName(params).done(function(data) {\n\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tparams.module = app.getModuleName();\n\t\t\t\tparams.parent = app.getParentModuleName();\n\t\t\t\tparams.action = 'TaxAjax';\n\t\t\t\tAppConnector.request(params).done(function(data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t//Adding or update the tax details in the list\n\t\t\t\t\tif (form.find('.addTaxView').val() == 'true') {\n\t\t\t\t\t\tthisInstance.addTaxDetails(data['result']);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthisInstance.updateTaxDetails(data['result'], currentTrElement);\n\t\t\t\t\t}\n\t\t\t\t\t//show notification after tax details saved\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttext: app.vtranslate('JS_TAX_SAVED_SUCCESSFULLY')\n\t\t\t\t\t};\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/*\n\t\t * Function to add the Tax Details in the list after saving\n\t\t */\n\t\taddTaxDetails: function(details) {\n\t\t\tlet container = jQuery('#TaxCalculationsContainer'),\n\t\t\t\ttaxTable;\n\n\t\t\t//Based on tax type, we will add the tax details row\n\t\t\tif (details.type === '0') {\n\t\t\t\ttaxTable = jQuery('.inventoryTaxTable', container);\n\t\t\t} else {\n\t\t\t\ttaxTable = jQuery('.shippingTaxTable', container);\n\t\t\t}\n\n\t\t\tlet trElementForTax = jQuery(\n\t\t\t\t'<tr class=\"opacity\" data-taxid=\"' +\n\t\t\t\t\tdetails.taxid +\n\t\t\t\t\t'\" data-taxtype=\"' +\n\t\t\t\t\tdetails.type +\n\t\t\t\t\t'\"><td style=\"border-left: none;\" class=\"textAlignCenter ' +\n\t\t\t\t\tdetails.row_type +\n\t\t\t\t\t'\"><label class=\"taxLabel\">' +\n\t\t\t\t\tdetails.taxlabel +\n\t\t\t\t\t'</label></td><td style=\"border-left: none;\" class=\"textAlignCenter ' +\n\t\t\t\t\tdetails.row_type +\n\t\t\t\t\t'\"><span class=\"taxPercentage\">' +\n\t\t\t\t\tdetails.percentage +\n\t\t\t\t\t'%</span></td><td style=\"border-left: none;\" class=\"textAlignCenter ' +\n\t\t\t\t\tdetails.row_type +\n\t\t\t\t\t'\"><input class=\"editTaxStatus\" type=\"checkbox\" checked>' +\n\t\t\t\t\t'<div class=\"pull-right actions\"><a class=\"editTax u-cursor-pointer\" data-url=\"' +\n\t\t\t\t\tdetails._editurl +\n\t\t\t\t\t'\"><i class=\"yfi yfi-full-editing-view alignBottom\" title=\"' +\n\t\t\t\t\tapp.vtranslate('JS_EDIT') +\n\t\t\t\t\t'\"></i></a></div></td></tr>'\n\t\t\t);\n\t\t\ttaxTable.append(trElementForTax);\n\t\t},\n\n\t\t/*\n\t\t * Function to update the tax details in the list after edit\n\t\t */\n\t\tupdateTaxDetails: function(data, currentTrElement) {\n\t\t\tcurrentTrElement.find('.taxLabel').text(data['taxlabel']);\n\t\t\tcurrentTrElement.find('.taxPercentage').text(data['percentage'] + '%');\n\t\t\tif (data['deleted'] == '0') {\n\t\t\t\tcurrentTrElement.find('.editTaxStatus').attr('checked', 'true');\n\t\t\t} else {\n\t\t\t\tcurrentTrElement.find('.editTaxStatus').removeAttr('checked');\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t * Function to validate the TaxName to avoid duplicates\n\t\t */\n\t\tvalidateTaxName: function(data) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar aDeferred = jQuery.Deferred();\n\n\t\t\tvar taxName = data.taxlabel;\n\t\t\tvar form = jQuery('#editTax');\n\t\t\tvar taxLabelElement = form.find('[name=\"taxlabel\"]');\n\n\t\t\tif (!(taxName in thisInstance.duplicateCheckCache)) {\n\t\t\t\tthisInstance\n\t\t\t\t\t.checkDuplicateName(data)\n\t\t\t\t\t.done(function(data) {\n\t\t\t\t\t\tthisInstance.duplicateCheckCache[taxName] = data['success'];\n\t\t\t\t\t\taDeferred.resolve();\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function(data, err) {\n\t\t\t\t\t\tthisInstance.duplicateCheckCache[taxName] = data['success'];\n\t\t\t\t\t\tthisInstance.duplicateCheckCache['message'] = data['message'];\n\t\t\t\t\t\ttaxLabelElement.validationEngine('showPrompt', data['message'], 'error', 'bottomLeft', true);\n\t\t\t\t\t\taDeferred.reject(data);\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tif (thisInstance.duplicateCheckCache[taxName] == true) {\n\t\t\t\t\tvar result = thisInstance.duplicateCheckCache['message'];\n\t\t\t\t\ttaxLabelElement.validationEngine('showPrompt', result, 'error', 'bottomLeft', true);\n\t\t\t\t\taDeferred.reject();\n\t\t\t\t} else {\n\t\t\t\t\taDeferred.resolve();\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\n\t\t/*\n\t\t * Function to check Duplication of Tax Name\n\t\t */\n\t\tcheckDuplicateName: function(details) {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tvar taxName = details.taxlabel;\n\t\t\tvar taxId = details.taxid;\n\t\t\tvar moduleName = app.getModuleName();\n\t\t\tvar params = {\n\t\t\t\tmodule: moduleName,\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'TaxAjax',\n\t\t\t\tmode: 'checkDuplicateName',\n\t\t\t\ttaxlabel: taxName,\n\t\t\t\ttaxid: taxId,\n\t\t\t\ttype: details.type\n\t\t\t};\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function(data) {\n\t\t\t\t\tvar response = data['result'];\n\t\t\t\t\tvar result = response['success'];\n\t\t\t\t\tif (result == true) {\n\t\t\t\t\t\taDeferred.reject(response);\n\t\t\t\t\t} else {\n\t\t\t\t\t\taDeferred.resolve(response);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail(function(error, err) {\n\t\t\t\t\taDeferred.reject(error, err);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\n\t\t/*\n\t\t * Function to update tax status as enabled or disabled\n\t\t */\n\t\tupdateTaxStatus: function(currentTarget) {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\n\t\t\tvar currentTrElement = currentTarget.closest('tr');\n\t\t\tvar taxId = currentTrElement.data('taxid');\n\t\t\tvar taxType = currentTrElement.data('taxtype');\n\t\t\tvar deleted = currentTarget.is(':checked') ? 0 : 1;\n\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tvar params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'TaxAjax',\n\t\t\t\ttaxid: taxId,\n\t\t\t\ttype: taxType,\n\t\t\t\tdeleted: deleted\n\t\t\t};\n\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function(data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function(error, err) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.reject(error);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\n\t\t/*\n\t\t * Function to register all actions in the Tax List\n\t\t */\n\t\tregisterActions: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar container = jQuery('#TaxCalculationsContainer');\n\n\t\t\t//register click event for Add New Tax button\n\t\t\tcontainer.find('.addTax').on('click', function(e) {\n\t\t\t\tvar addTaxButton = jQuery(e.currentTarget);\n\t\t\t\tvar createTaxUrl = addTaxButton.data('url') + '&type=' + addTaxButton.data('type');\n\t\t\t\tthisInstance.editTax(createTaxUrl);\n\t\t\t});\n\n\t\t\t//register event for edit tax icon\n\t\t\tcontainer.on('click', '.editTax', function(e) {\n\t\t\t\tvar editTaxButton = jQuery(e.currentTarget);\n\t\t\t\tvar currentTrElement = editTaxButton.closest('tr');\n\t\t\t\tthisInstance.editTax(editTaxButton.data('url'), currentTrElement);\n\t\t\t});\n\n\t\t\t//register event for checkbox to change the tax Status\n\t\t\tcontainer.on('click', '.editTaxStatus', function(e) {\n\t\t\t\tvar currentTarget = jQuery(e.currentTarget);\n\n\t\t\t\tthisInstance.updateTaxStatus(currentTarget).done(function(data) {\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tif (currentTarget.is(':checked')) {\n\t\t\t\t\t\tparams.text = app.vtranslate('JS_TAX_ENABLED');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparams.text = app.vtranslate('JS_TAX_DISABLED');\n\t\t\t\t\t}\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\tregisterEvents: function() {\n\t\t\tthis.registerActions();\n\t\t}\n\t}\n);\n\njQuery(document).ready(function(e) {\n\tvar taxInstance = new Settings_Vtiger_Tax_Js();\n\ttaxInstance.registerEvents();\n});\n"],"names":["jQuery","Class","duplicateCheckCache","editTax","url","currentTrElement","Deferred","thisInstance","progressIndicatorElement","progressIndicator","position","blockInfo","enabled","request","done","data","params","app","validationEngineOptions","onValidationComplete","form","valid","saveTaxDetails","validationEngine","on","e","preventDefault","mode","showModalWindow","callBackFunction","width","fail","error","aDeferred","reject","promise","serializeFormData","validateTaxName","module","getModuleName","parent","getParentModuleName","action","AppConnector","hideModalWindow","find","val","addTaxDetails","updateTaxDetails","text","vtranslate","Settings_Vtiger_Index_Js","showMessage","details","container","taxTable","type","taxid","row_type","taxlabel","percentage","_editurl","append","trElementForTax","attr","removeAttr","taxName","taxLabelElement","checkDuplicateName","resolve","result","taxId","moduleName","response","err","updateTaxStatus","currentTarget","closest","taxType","deleted","is","registerActions","createTaxUrl","addTaxButton","editTaxButton","registerEvents","document","ready","taxInstance"],"mappings":"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"}